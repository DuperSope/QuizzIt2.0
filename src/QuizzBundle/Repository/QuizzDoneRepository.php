<?php

namespace QuizzBundle\Repository;

/**
 * QuizzDoneRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class QuizzDoneRepository extends \Doctrine\ORM\EntityRepository
{
    
    public function countbetween($quizz_id, $date1, $date2)
    {
      $qb = $this->createQueryBuilder('a');

      $qb
        ->select('COUNT(a)')
        ->where('a.quizz = :quizzid')
        ->setParameter('quizzid', $quizz_id)
        ->andWhere('a.date BETWEEN :start AND :end')
        ->setParameter('start', $date1)  
        ->setParameter('end',   $date2)  
      ;

      return $qb
        ->getQuery()
        ->getSingleScalarResult()
      ;
    }
}
